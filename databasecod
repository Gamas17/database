Table sexo {
    id INT [pk, increment] // Llave primaria con auto-incremento
    sexo VARCHAR(10) [not null, unique] // Sexo: 'masculino' o 'femenino'
}

Table profesion {
  id int [pk, increment]
  nombre varchar(100) [not null, unique]
}

Table pais {
  id int [pk, increment]
  nombre varchar(100) [not null, unique]
}

Table telefono {
  id int [pk, increment]
  numerotel varchar(50) [not null, unique]
}

Table nit {
  id int [pk, increment]
  numero varchar(50) [not null, unique]
}

Table direccion {
  id int [pk, increment]
  descripcion varchar(255) [not null]
}

Table rol {
    id INT [pk, increment] // Llave primaria con auto-incremento
    rol VARCHAR(20) [not null, unique] // 'administrador' o 'donante'
}

Table usuario {
    id INT [pk, increment] // Llave primaria con auto-incremento
    nombre VARCHAR(100) [not null]
    numero_id INT [not null, unique] // Referencia a la tabla de telefono
    profesion_id INT [not null] // Referencia a la tabla de profesion
    pais_id INT [not null] // Referencia a la tabla de pais
    direccion_id INT [not null] // Referencia a la tabla de direccion
    email VARCHAR(100) [unique, not null]
    nit_id INT [not null] // Referencia a la tabla de nit
    contraseña VARCHAR(255) [not null]
    sexo_id INT [not null] // Referencia a la tabla de sexo
    rol_id INT [not null] // Referencia a la tabla de rol
    fecha_registro TIMESTAMP [default: `current_timestamp`]
    ultima_sesion TIMESTAMP // Última sesión del usuario
}

Table donacion {
    id INT [pk, increment] // Llave primaria con auto-incremento
    usuario_id INT [not null] // Referencia a la tabla de usuario
    monto DECIMAL(10, 2) [not null]
    fecha_donacion TIMESTAMP [default: `current_timestamp`]
    voucher VARBINARY(2048) [not null]
}

Table detalle_donacion {
    id INT [pk, increment] // Llave primaria con auto-incremento
    donacion_id INT [not null] // Referencia a la tabla de donacion
    programa_nombre VARCHAR(100) [not null] // Nombre del programa
    descripcion_programa TEXT [not null] // Descripción del programa
    tipo_servicio VARCHAR(20) [not null] // Tipo de servicio de la donación
    categoria ENUM('Salud', 'Dental', 'Psicologica', 'Infantil', 'Alimentacion', 'Educacion', 'Oficios Tecnicos', 'Educacion Financiera', 'Juridica') [not null] // Categoría de la donación
    comentario TEXT // Comentarios adicionales sobre la donación
    cantidad INT // Cantidad de elementos donados
    descripcion_adicional TEXT // Información adicional específica de la donación
    fecha_detalle TIMESTAMP [default: `current_timestamp`] // Fecha del detalle de la donación
}

Table token_acceso {
    id INT [pk, increment] // Llave primaria con auto-incremento
    usuario_id INT [not null] // Referencia a la tabla de usuario
    token VARCHAR(500) [not null]
    fecha_emision TIMESTAMP [default: `current_timestamp`]
    fecha_expiracion TIMESTAMP [not null]
    estado ENUM('activo', 'revocado') [default: 'activo']
}

Table permiso {
    id INT [pk, increment] // Llave primaria con auto-incremento
    nombre VARCHAR(50) [not null, unique] // Nombre del permiso (e.g., 'crear_usuario', 'ver_donacion', etc.)
    descripcion TEXT // Descripción del permiso
}

Table rol_permiso {
    id INT [pk, increment] // Llave primaria con auto-incremento
    rol_id INT [not null] // Referencia a la tabla de rol
    permiso_id INT [not null] // Referencia a la tabla de permiso
}

// Definición de referencias
Ref: usuario.numero_id > telefono.id
Ref: usuario.profesion_id > profesion.id
Ref: usuario.pais_id > pais.id
Ref: usuario.direccion_id > direccion.id
Ref: usuario.nit_id > nit.id
Ref: usuario.sexo_id > sexo.id
Ref: usuario.rol_id > rol.id
Ref: donacion.usuario_id > usuario.id
Ref: detalle_donacion.donacion_id > donacion.id
Ref: token_acceso.usuario_id > usuario.id
Ref: rol_permiso.rol_id > rol.id
Ref: rol_permiso.permiso_id > permiso.id
